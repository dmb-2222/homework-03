{"version":3,"sources":["components/bank/Controls/Controls.js","components/bank/Balance/Balance.js","components/bank/TransactionHistory/TransactionHistory.js","components/bank/services/Ls/Ls.js","components/bank/Dashboard/Dashboard.js","components/App.js","index.js","components/bank/style.module.css"],"names":["Controls","_ref","onInputChange","deposit","withdraw","resetForm","clearHistory","react_default","a","createElement","className","style","controls","type","input","onChange","value","button","name","onClick","Balance","balance","deposite","TransactionHistory","_ref$history","history","map","item","key","id","amount","date","LsBankHistory","setBankHistory","arrHistory","localStorage","setItem","JSON","stringify","getBankHistory","parse","getItem","setCurrentBalance","objBalanceDepositWithdraw","getCurrentBalance","clearLS","clear","Dashboard","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","noMoney","toast","autoClose","unCorrectInput","handleInput","e","preventDefault","Number","target","setState","valueInput","createNewOperation","typyOperation","dateOperation","Date","toLocaleDateString","shortid","generate","state","handleClearHistory","handleCkickDeposit","operation","balanceDepositWithdrawToLS","prevState","concat","toConsumableArray","handleCkickWithdraw","prevTransactions","currentBalDepWith","_this$state","dashboard","bank_Controls_Controls","react_toastify","bank_Balance_Balance","bank_TransactionHistory_TransactionHistory","React","Component","App","bank_Dashboard_Dashboard","ReactDOM","render","components_App","document","querySelector","module","exports"],"mappings":"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","file":"static/js/main.7d5eda63.chunk.js","sourcesContent":["import React from \"react\";\r\nimport style from \"../style.module.css\";\r\nimport propTypes from \"prop-types\";\r\nconst Controls = ({\r\n  onInputChange,\r\n  deposit,\r\n  withdraw,\r\n  resetForm,\r\n  clearHistory\r\n}) => {\r\n  return (\r\n    <section className={style.controls}>\r\n      <input\r\n        type=\"number\"\r\n        className={style.input}\r\n        onChange={onInputChange}\r\n        value={resetForm}\r\n      />\r\n      <button\r\n        type=\"submit\"\r\n        className={style.button}\r\n        name=\"deposit\"\r\n        onClick={deposit}\r\n      >\r\n        Deposit\r\n      </button>\r\n      <button\r\n        type=\"button\"\r\n        className={style.button}\r\n        name=\"withdraw\"\r\n        onClick={withdraw}\r\n      >\r\n        Withdraw\r\n      </button>\r\n      <div>\r\n        <button\r\n          type=\"button\"\r\n          className={style.button}\r\n          name=\"clearHistory\"\r\n          onClick={clearHistory}\r\n        >\r\n          Очистить\r\n        </button>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\nexport default Controls;\r\n\r\nControls.propTypes = {\r\n  onInputChange: propTypes.func,\r\n  deposit: propTypes.func,\r\n  withdraw: propTypes.func,\r\n  resetForm: propTypes.string\r\n};\r\n","import React from \"react\";\r\nimport propTypes from \"prop-types\";\r\nimport style from \"../style.module.css\";\r\n\r\nconst Balance = ({ balance, deposit, withdraw }) => {\r\n  return (\r\n    <section className={style.balance}>\r\n      <span className={style.deposite}>⬆ {deposit}$</span>\r\n      <span className={style.withdraw}>⬇ {withdraw}$</span>\r\n      <span>Balance: {balance}$</span>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Balance;\r\n\r\nBalance.propTypes = {\r\n  balance: propTypes.number,\r\n  deposit: propTypes.number,\r\n  withdraw: propTypes.number\r\n};\r\n","import React from \"react\";\r\nimport style from \"../style.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst TransactionHistory = ({ history = [] }) => {\r\n  return (\r\n    <table className={style.history}>\r\n      <thead>\r\n        <tr>\r\n          <th>Transaction</th>\r\n          <th>Amount</th>\r\n          <th>Date</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {history.map(item => (\r\n          <tr key={item.id}>\r\n            <td>{item.type}</td>\r\n            <td>{item.amount}</td>\r\n            <td>{item.date}</td>\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  );\r\n};\r\nexport default TransactionHistory;\r\n\r\nTransactionHistory.propTypes = {\r\n  history: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n};\r\n","\r\nconst LsBankHistory = {\r\n    setBankHistory(arrHistory) {\r\n      localStorage.setItem(\"bankHistory\", JSON.stringify(arrHistory));\r\n    },\r\n    getBankHistory() {\r\n      return JSON.parse(localStorage.getItem(\"bankHistory\"));\r\n    },\r\n  \r\n    setCurrentBalance(objBalanceDepositWithdraw) {\r\n      localStorage.setItem(\r\n        \"currentBalance\",\r\n        JSON.stringify(objBalanceDepositWithdraw)\r\n      );\r\n    },\r\n    getCurrentBalance() {\r\n      return JSON.parse(localStorage.getItem(\"currentBalance\"));\r\n    },\r\n  \r\n    clearLS() {\r\n      localStorage.clear();\r\n    }\r\n  };\r\n  export default LsBankHistory","import React from \"react\";\r\nimport Controls from \"../Controls/Controls\";\r\nimport Balance from \"../Balance/Balance\";\r\nimport TransactionHistory from \"../TransactionHistory/TransactionHistory\";\r\nimport shortid from \"short-id\";\r\nimport style from \"../style.module.css\";\r\nimport LsBankHistory from \"../services/Ls/Ls\";\r\n\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nclass Dashboard extends React.Component {\r\n  constructor() {\r\n    super();\r\n    const prevTransactions = LsBankHistory.getBankHistory() || [];\r\n    const currentBalDepWith = LsBankHistory.getCurrentBalance() || 0;\r\n\r\n    this.state = {\r\n      history: prevTransactions,\r\n      balance: currentBalDepWith.balance || 0,\r\n      deposit: currentBalDepWith.deposit || 0,\r\n      withdraw: currentBalDepWith.withdraw || 0,\r\n      valueInput: \"\"\r\n    };\r\n  }\r\n  noMoney = () =>\r\n    toast(\"На счету недостаточно средств для проведения операции!\", {\r\n      autoClose: 5000\r\n    });\r\n  unCorrectInput = () =>\r\n    toast(\"Введите сумму для проведения операции!\", { autoClose: 5000 });\r\n\r\n  handleInput = e => {\r\n    e.preventDefault();\r\n    if (Number(e.target.value) > 0) {\r\n      this.setState({ valueInput: e.target.value });\r\n    } else this.unCorrectInput();\r\n  };\r\n\r\n  createNewOperation = typyOperation => {\r\n    const dateOperation = new Date().toLocaleDateString();\r\n    return {\r\n      id: shortid.generate(),\r\n      type: typyOperation,\r\n      amount: this.state.valueInput,\r\n      date: dateOperation\r\n    };\r\n  };\r\n\r\n  handleClearHistory = () => {\r\n    LsBankHistory.clearLS();\r\n    this.setState({ history: [], balance: 0, deposit: 0, withdraw: 0 });\r\n  };\r\n\r\n  handleCkickDeposit = () => {\r\n    if (this.state.valueInput !== \"\") {\r\n      const operation = this.createNewOperation(\"Deposit\");\r\n\r\n      const balanceDepositWithdrawToLS = {\r\n        balance: this.state.valueInput + Number(this.state.balance) || 0,\r\n        deposit: this.state.valueInput + Number(this.state.deposit) || 0,\r\n        withdraw: this.state.withdraw\r\n      };\r\n      LsBankHistory.setCurrentBalance(balanceDepositWithdrawToLS);\r\n\r\n      this.setState(prevState => {\r\n        // как вариант можно еще пушить в LS, какой метод лучше будет?\r\n        LsBankHistory.setBankHistory([operation, ...prevState.history]);\r\n\r\n        return {\r\n          history: [operation, ...prevState.history],\r\n          deposit: (prevState.deposit += Number(operation.amount)),\r\n          balance: (prevState.balance += Number(operation.amount)),\r\n          valueInput: \"\"\r\n        };\r\n      });\r\n    } else this.unCorrectInput();\r\n  };\r\n\r\n  handleCkickWithdraw = () => {\r\n    if (this.state.valueInput !== \"\") {\r\n      const operation = this.createNewOperation(\"Withdraw\");\r\n\r\n      this.setState(prevState => {\r\n        if (this.state.balance >= this.state.valueInput) {\r\n          LsBankHistory.setBankHistory([operation, ...prevState.history]);\r\n          const balanceDepositWithdrawToLS = {\r\n            balance: Number(this.state.balance) - this.state.valueInput || 0,\r\n            deposit: this.state.deposit,\r\n            withdraw: Number(this.state.withdraw) + Number(this.state.valueInput) || 0\r\n          };\r\n          LsBankHistory.setCurrentBalance(balanceDepositWithdrawToLS);\r\n\r\n          return {\r\n            balance: (prevState.balance -= Number(operation.amount)),\r\n            history: [operation, ...prevState.history],\r\n            withdraw: (prevState.withdraw += Number(operation.amount)),\r\n            valueInput: \"\"\r\n          };\r\n        } else this.noMoney();\r\n      });\r\n    } else this.unCorrectInput();\r\n  };\r\n\r\n  render() {\r\n    const { history, balance, deposit, withdraw, valueInput } = this.state;\r\n    return (\r\n      <div className={style.dashboard}>\r\n        <Controls\r\n          onInputChange={this.handleInput}\r\n          deposit={this.handleCkickDeposit}\r\n          withdraw={this.handleCkickWithdraw}\r\n          resetForm={valueInput}\r\n          clearHistory={this.handleClearHistory}\r\n        />\r\n        <ToastContainer />\r\n        <Balance balance={balance} deposit={deposit} withdraw={withdraw} />\r\n        <TransactionHistory history={history} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Dashboard;\r\n","import React from \"react\";\nimport Dashboard from './bank/Dashboard/Dashboard'\n\nconst App = () => (\n  <div>\n    <Dashboard/>\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.querySelector(\"#root\"));","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dashboard\":\"style_dashboard__3q0UL\",\"controls\":\"style_controls__1PY2R\",\"button\":\"style_button__2Brc5\",\"input\":\"style_input__3YUG7\",\"balance\":\"style_balance__HnlYU\",\"deposite\":\"style_deposite__1krQe\",\"withdraw\":\"style_withdraw__3b5Ep\",\"history\":\"style_history__3lVzS\"};"],"sourceRoot":""}