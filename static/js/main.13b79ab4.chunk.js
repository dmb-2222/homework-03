(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){e.exports=a(217)},115:function(e,t){},117:function(e,t){},152:function(e,t){},153:function(e,t){},217:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(30),l=a.n(r),c=a(23),i=a(18),s=a(19),u=a(21),m=a(20),p=a(22),d=a(7),h=a.n(d),b=function(e){var t=e.onInputChange,a=e.deposit,n=e.withdraw,r=e.resetForm,l=e.clearHistory;return o.a.createElement("section",{className:h.a.controls},o.a.createElement("input",{type:"number",className:h.a.input,onChange:t,value:r}),o.a.createElement("button",{type:"submit",className:h.a.button,name:"deposit",onClick:a},"Deposit"),o.a.createElement("button",{type:"button",className:h.a.button,name:"withdraw",onClick:n},"Withdraw"),o.a.createElement("div",null,o.a.createElement("button",{type:"button",className:h.a.button,name:"clearHistory",onClick:l},"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c")))},f=function(e){var t=e.balance,a=e.deposit,n=e.withdraw;return o.a.createElement("section",{className:h.a.balance},o.a.createElement("span",{className:h.a.deposite},"\u2b06 ",a,"$"),o.a.createElement("span",{className:h.a.withdraw},"\u2b07 ",n,"$"),o.a.createElement("span",null,"Balance: ",t,"$"))},y=function(e){var t=e.history,a=void 0===t?[]:t;return o.a.createElement("table",{className:h.a.history},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Transaction"),o.a.createElement("th",null,"Amount"),o.a.createElement("th",null,"Date"))),o.a.createElement("tbody",null,a.map(function(e){return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,e.type),o.a.createElement("td",null,e.amount),o.a.createElement("td",null,e.date))})))},E=a(100),w=a.n(E),v={setBankHistory:function(e){localStorage.setItem("bankHistory",JSON.stringify(e))},getBankHistory:function(){return JSON.parse(localStorage.getItem("bankHistory"))},clearLS:function(){localStorage.clear()}},g=a(37),_=(a(196),v.getBankHistory()),k=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).noMoney=function(){return Object(g.b)("\u041d\u0430 \u0441\u0447\u0435\u0442\u0443 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438!",{autoClose:5e3})},e.unCorrectInput=function(){return Object(g.b)("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443 \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438!",{autoClose:5e3})},e.handleInput=function(t){t.preventDefault(),Number(t.target.value)>0?e.setState({valueInput:t.target.value}):e.unCorrectInput()},e.createNewOperation=function(t){var a=(new Date).toLocaleDateString();return{id:w.a.generate(),type:t,amount:e.state.valueInput,date:a}},e.handleClearHistory=function(){v.clearLS(),e.setState({history:[],balance:0,deposit:0,withdraw:0})},e.handleCkickDeposit=function(){if(""!==e.state.valueInput){var t=e.createNewOperation("Deposit");e.setState(function(e){return{history:[t].concat(Object(c.a)(e.history)),deposit:e.deposit+=Number(t.amount),balance:e.balance+=Number(t.amount),valueInput:""}})}else e.unCorrectInput()},e.handleCkickWithdraw=function(){if(""!==e.state.valueInput){var t=e.createNewOperation("Withdraw");e.setState(function(a){if(e.state.balance>=e.state.valueInput)return{balance:a.balance-=Number(t.amount),history:[t].concat(Object(c.a)(a.history)),withdraw:a.withdraw+=Number(t.amount),valueInput:""};e.noMoney()})}else e.unCorrectInput()},e.state={history:[],balance:0,deposit:0,withdraw:0,valueInput:""},e}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){_&&this.setState({history:_.history,balance:_.balance,deposit:_.deposit,withdraw:_.withdraw})}},{key:"componentDidUpdate",value:function(e,t){t.history!==this.state.history&&v.setBankHistory(this.state)}},{key:"render",value:function(){var e=this.state,t=e.history,a=e.balance,n=e.deposit,r=e.withdraw,l=e.valueInput;return o.a.createElement("div",{className:h.a.dashboard},o.a.createElement(b,{onInputChange:this.handleInput,deposit:this.handleCkickDeposit,withdraw:this.handleCkickWithdraw,resetForm:l,clearHistory:this.handleClearHistory}),o.a.createElement(g.a,null),o.a.createElement(f,{balance:a,deposit:n,withdraw:r}),o.a.createElement(y,{history:t}))}}]),t}(o.a.Component),I=a(5),N=a.n(I),C=function(e){var t=e.onInputChange,a=e.onHandleSubmit;return o.a.createElement(o.a.Fragment,null,o.a.createElement("form",{className:N.a.searchForm,onSubmit:a},o.a.createElement("input",{type:"text",autoComplete:"off",placeholder:"Search images...",onChange:t})))},O=function(e){var t=e.webformatURL,a=e.views,n=e.comments,r=e.downloads,l=e.likes,c=e.clickToOpenModal;return o.a.createElement("div",{className:N.a.photoCard},o.a.createElement("img",{src:t,alt:""}),o.a.createElement("div",{className:N.a.stats},o.a.createElement("p",{className:N.a.statsItem},o.a.createElement("i",{className:"material-icons"},"thumb_up"),l),o.a.createElement("p",{className:N.a.statsItem},o.a.createElement("i",{className:"material-icons"},"visibility"),a),o.a.createElement("p",{className:N.a.statsItem},o.a.createElement("i",{className:"material-icons"},"comment"),n),o.a.createElement("p",{className:N.a.statsItem},o.a.createElement("i",{className:"material-icons"},"cloud_download"),r)),o.a.createElement("button",{type:"button",className:N.a.fullscreenButton,onClick:c},o.a.createElement("i",{className:"material-icons"},"zoom_out_map")))},S=function(e){var t=e.items,a=void 0===t?[]:t,n=e.handleOnClickBigPic,r=e.showButtonloadMore,l=e.onClickloadMore;return o.a.createElement(o.a.Fragment,null,o.a.createElement("ul",{className:N.a.gallery},a.map(function(e){return o.a.createElement("li",{key:e.id,className:N.a.galleryItem},o.a.createElement(O,{webformatURL:e.webformatURL,views:e.views,comments:e.comments,downloads:e.downloads,likes:e.likes,clickToOpenModal:function(){return n(e.largeImageURL)}}))})),r&&o.a.createElement("button",{className:N.a.button,type:"button",onClick:l},"Load more"),o.a.createElement("div",{id:"scroll"}))},M=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this))).handleKeyPress=function(e){"Escape"===e.code&&a.props.onClose()},a.handleBackDropClick=function(e){var t=a.backdropRef.current;t&&e.target!==t||a.props.onClose()},a.backdropRef=Object(n.createRef)(),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillMount",value:function(){window.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var e=this.props.largeImageUrl;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:N.a.backdrop,onClick:this.handleBackDropClick,ref:this.backdropRef},o.a.createElement("div",{className:N.a.modal},o.a.createElement("img",{src:e,alt:""}))))}}]),t}(n.Component),j=a(54),B=a.n(j),P="https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=",D="12916559-bca9cacbc431a253364f58898",L=function(e){return B.a.get("".concat(P,"+").concat(e,"&page=1&per_page=12&key=").concat(D))},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1?arguments[1]:void 0;return B.a.get("".concat(P,"+").concat(t,"&page=").concat(e,"&per_page=12&key=").concat(D))},U={fontSize:40},A=function(){return o.a.createElement("h1",{style:U},"Lading...")},x=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).inputSearch=function(t){t.preventDefault(),e.setState({searchValue:t.target.value})},e.handleSubmite=function(t){t.preventDefault(),e.setState({isLoading:!0}),e.nextPage=1,L(e.state.searchValue).then(function(t){var a=t.data;e.setState({hits:a.hits,isShowButtonloadMore:!0})}).catch("error").finally(function(){return e.setState({isLoading:!1})})},e.openModal=function(t){e.setState({isModalOpen:!0,largeImageUrl:t})},e.closeModal=function(){e.setState({isModalOpen:!1})},e.loadMore=function(t){t.preventDefault(),e.nextPage++,H(e.nextPage,e.state.searchValue).then(function(t){var a=t.data;e.setState(function(e){return{hits:[].concat(Object(c.a)(e.hits),Object(c.a)(a.hits))}})}).then(function(){document.getElementById("scroll").scrollIntoView({behavior:"smooth"})}).catch("error")},e.nextPage=1,e.state={searchValue:"",hits:[],isModalOpen:!1,largeImageUrl:"",isShowButtonloadMore:!1,isLoading:!1},e}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.largeImageUrl,a=e.isModalOpen,n=e.hits,r=e.isShowButtonloadMore,l=e.isLoading;return o.a.createElement("div",{className:N.a.app},o.a.createElement(C,{onInputChange:this.inputSearch,onHandleSubmit:this.handleSubmite}),l?o.a.createElement(A,null):o.a.createElement(S,{items:n,handleOnClickBigPic:this.openModal,onClickloadMore:this.loadMore,showButtonloadMore:r}),a&&o.a.createElement(M,{largeImageUrl:t,onClose:this.closeModal}))}}]),t}(o.a.Component),R=function(){return o.a.createElement("div",null,o.a.createElement(k,null),o.a.createElement(x,null))};l.a.render(o.a.createElement(R,null),document.querySelector("#root"))},5:function(e,t,a){e.exports={app:"AppPhoto_app__29ZEP",searchForm:"AppPhoto_searchForm__10uBp",gallery:"AppPhoto_gallery__3BKMu",galleryItem:"AppPhoto_galleryItem__3UPB4",stats:"AppPhoto_stats__3AmTK",statsItem:"AppPhoto_statsItem__Itj5n",fullscreenButton:"AppPhoto_fullscreenButton__11XGj",button:"AppPhoto_button__1V5Vf",backdrop:"AppPhoto_backdrop__upT3-",modal:"AppPhoto_modal__2i8cY"}},7:function(e,t,a){e.exports={dashboard:"style_dashboard__3q0UL",controls:"style_controls__1PY2R",button:"style_button__2Brc5",input:"style_input__3YUG7",balance:"style_balance__HnlYU",deposite:"style_deposite__1krQe",withdraw:"style_withdraw__3b5Ep",history:"style_history__3lVzS"}}},[[103,1,2]]]);
//# sourceMappingURL=main.13b79ab4.chunk.js.map